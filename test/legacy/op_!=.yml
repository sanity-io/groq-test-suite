name: "!= operator"
documents:
- _id: id
  _type: test
  v_array:
  - 1
  - string
  - true
  - null
  - - 1
    - 2
    - 3
  - key: value
  v_decimal: 3.14
  v_false: false
  v_integer: 1
  v_null: null
  v_object:
    v_array:
    - a
    - b
    - c
    v_boolean: true
    v_decimal: 2.718
    v_integer: 2
    v_null: null
    v_object:
      k: v
    v_string: abc
  v_string: string
  v_true: true
tests:
- title: "!= attributes array"
  query: |-
    [
      *[_id=='id'][0].v_array != *[_id=='id'][0].v_array,
      *[_id=='id'][0].v_array != *[_id=='id'][0].v_object.v_array,
      *[_id=='id'][0].v_object.v_array != *[_id=='id'][0].v_array,
      [1, "string", true, null, [1, 2, 3], {"key": "value"}] != *[_id=='id'][0].v_array,
      *[_id=='id'][0].v_array != [1, "string", true, null, [1, 2, 3], {"key": "value"}],
      *[_id=='id'][0].v_array != [3, 1, 2],
      [3, 1, 2] != *[_id=='id'][0].v_array,
      "a" != *[_id=='id'][0].v_array,
      *[_id=='id'][0].v_array != "a",
      *[_id=='id'][0].v_array != *[_id=='id'][0].v_null,
      *[_id=='id'][0].v_null != *[_id=='id'][0].v_array,
      *[_id=='id'][0].v_array != null,
      null != *[_id=='id'][0].v_array,
    ]
  result:
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "!= attributes boolean"
  query: |-
    [
      *[_id=='id'][0].v_true != *[_id=='id'][0].v_true,
      *[_id=='id'][0].v_true != *[_id=='id'][0].v_false,
      *[_id=='id'][0].v_false != *[_id=='id'][0].v_true,
      *[_id=='id'][0].v_true != true,
      *[_id=='id'][0].v_true != false,
      true != *[_id=='id'][0].v_true,
      false != *[_id=='id'][0].v_true,
      *[_id=='id'][0].v_true != "a",
      "a" != *[_id=='id'][0].v_true,
      *[_id=='id'][0].v_true != *[_id=='id'][0].v_null,
      *[_id=='id'][0].v_null != *[_id=='id'][0].v_true,
      *[_id=='id'][0].v_true != null,
      null != *[_id=='id'][0].v_true,
    ]
  result:
  - false
  - true
  - true
  - false
  - true
  - false
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "!= attributes decimal"
  query: |-
    [
      *[_id=='id'][0].v_decimal != *[_id=='id'][0].v_decimal,
      *[_id=='id'][0].v_decimal != *[_id=='id'][0].v_object.v_decimal,
      *[_id=='id'][0].v_object.v_decimal != *[_id=='id'][0].v_decimal,
      *[_id=='id'][0].v_decimal != 3.14,
      3.14 != *[_id=='id'][0].v_decimal,
      *[_id=='id'][0].v_decimal != 2.718,
      2.718 != *[_id=='id'][0].v_decimal,
      *[_id=='id'][0].v_decimal != "a",
      "a" != *[_id=='id'][0].v_decimal,
      *[_id=='id'][0].v_decimal != *[_id=='id'][0].v_null,
      *[_id=='id'][0].v_null != *[_id=='id'][0].v_decimal,
      *[_id=='id'][0].v_decimal != null,
      null != *[_id=='id'][0].v_decimal,
    ]
  result:
  - false
  - true
  - true
  - false
  - false
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "!= attributes integer"
  query: |-
    [
      *[_id=='id'][0].v_integer != *[_id=='id'][0].v_integer,
      *[_id=='id'][0].v_integer != *[_id=='id'][0].v_object.v_integer,
      *[_id=='id'][0].v_object.v_integer != *[_id=='id'][0].v_integer,
      *[_id=='id'][0].v_integer != 1,
      1 != *[_id=='id'][0].v_integer,
      *[_id=='id'][0].v_integer != 2,
      2 != *[_id=='id'][0].v_integer,
      *[_id=='id'][0].v_integer != "a",
      "a" != *[_id=='id'][0].v_integer,
      *[_id=='id'][0].v_integer != *[_id=='id'][0].v_null,
      *[_id=='id'][0].v_null != *[_id=='id'][0].v_integer,
      *[_id=='id'][0].v_integer != null,
      null != *[_id=='id'][0].v_integer,
    ]
  result:
  - false
  - true
  - true
  - false
  - false
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "!= attributes object"
  query: |-
    [
      *[_id=='id'][0].v_object != *[_id=='id'][0].v_object,
      *[_id=='id'][0].v_object != *[_id=='id'][0].v_object.v_object,
      *[_id=='id'][0].v_object.v_object != *[_id=='id'][0].v_object,
      {
        "v_array": ["a", "b", "c"],
        "v_boolean": true,
        "v_decimal": 2.718,
        "v_integer": 2,
        "v_null": null,
        "v_object": {"k": "v"},
        "v_string": "abc"
      } != *[_id=='id'][0].v_object,
      *[_id=='id'][0].v_object != {
        "v_array": ["a", "b", "c"],
        "v_boolean": true,
        "v_decimal": 2.718,
        "v_integer": 2,
        "v_null": null,
        "v_object": {"k": "v"},
        "v_string": "abc"
      },
      *[_id=='id'][0].v_object != {"a": 1},
      {"a": 1} != *[_id=='id'][0].v_object,
      "a" != *[_id=='id'][0].v_object,
      *[_id=='id'][0].v_object != "a",
      *[_id=='id'][0].v_object != *[_id=='id'][0].v_null,
      *[_id=='id'][0].v_null != *[_id=='id'][0].v_object,
      *[_id=='id'][0].v_object != null,
      null != *[_id=='id'][0].v_object,
    ]
  result:
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "!= attributes string"
  query: |-
    [
      *[_id=='id'][0].v_string != *[_id=='id'][0].v_string,
      *[_id=='id'][0].v_string != *[_id=='id'][0].v_object.v_string,
      *[_id=='id'][0].v_object.v_string != *[_id=='id'][0].v_string,
      *[_id=='id'][0].v_string != "string",
      "string" != *[_id=='id'][0].v_string,
      *[_id=='id'][0].v_string != "abc",
      "abc" != *[_id=='id'][0].v_string,
      *[_id=='id'][0].v_string != 1,
      1 != *[_id=='id'][0].v_string,
      *[_id=='id'][0].v_string != *[_id=='id'][0].v_null,
      *[_id=='id'][0].v_null != *[_id=='id'][0].v_string,
      *[_id=='id'][0].v_string != null,
      null != *[_id=='id'][0].v_string,
    ]
  result:
  - false
  - true
  - true
  - false
  - false
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "== filter array"
  query: |-
    [
      count(*[_id=='id' && v_array != v_array]) > 0,
      count(*[_id=='id' && v_array != v_object.v_array]) > 0,
      count(*[_id=='id' && v_object.v_array != v_array]) > 0,
      count(*[_id=='id' && [1, "string", true, null, [2, 2, 3], {"key": "value"}] != v_array]) > 0,
      count(*[_id=='id' && [1, "string", true, null, [0, 2, 3], {"key": "value"}] != v_array]) > 0,
      count(*[_id=='id' && v_array != [1, "string", true, null, [2, 2, 3], {"key": "value"}]]) > 0,
      count(*[_id=='id' && v_array != [1, "string", true, null, [0, 2, 3], {"key": "value"}]]) > 0,
      count(*[_id=='id' && v_array != [3, 1, 2]]) > 0,
      count(*[_id=='id' && [3, 1, 2] != v_array]) > 0,
      count(*[_id=='id' && "a" != v_array]) > 0,
      count(*[_id=='id' && v_array != "a"]) > 0,
      count(*[_id=='id' && v_null != v_array]) > 0,
      count(*[_id=='id' && v_array != v_null]) > 0,
      count(*[_id=='id' && null != v_array]) > 0,
      count(*[_id=='id' && v_array != null]) > 0,
    ]
  result:
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "== filter boolean"
  query: |-
    [
      count(*[_id=='id' && v_true != v_true]) > 0,
      count(*[_id=='id' && v_true != v_false]) > 0,
      count(*[_id=='id' && v_false != v_true]) > 0,
      count(*[_id=='id' && v_false != v_false]) > 0,
      count(*[_id=='id' && v_true != true]) > 0,
      count(*[_id=='id' && v_true != false]) > 0,
      count(*[_id=='id' && v_false != true]) > 0,
      count(*[_id=='id' && v_false != false]) > 0,
      count(*[_id=='id' && true != v_true]) > 0,
      count(*[_id=='id' && true != v_false]) > 0,
      count(*[_id=='id' && false != v_true]) > 0,
      count(*[_id=='id' && false != v_false]) > 0,
      count(*[_id=='id' && v_true != "a"]) > 0,
      count(*[_id=='id' && "a" != v_true]) > 0,
      count(*[_id=='id' && v_true != v_null]) > 0,
      count(*[_id=='id' && v_null != v_true]) > 0,
      count(*[_id=='id' && v_true != null]) > 0,
      count(*[_id=='id' && null != v_true]) > 0,
    ]
  result:
  - false
  - true
  - true
  - false
  - false
  - true
  - true
  - false
  - false
  - true
  - true
  - false
  - true
  - true
  - true
  - true
  - true
  - true
- title: "== filter decimal"
  query: |-
    [
      count(*[_id=='id' && v_decimal != v_decimal]) > 0,
      count(*[_id=='id' && v_decimal != v_object.v_decimal]) > 0,
      count(*[_id=='id' && v_object.v_decimal != v_decimal]) > 0,
      count(*[_id=='id' && v_decimal != 4]) > 0,
      count(*[_id=='id' && 4 != v_decimal]) > 0,
      count(*[_id=='id' && v_decimal != 3.14]) > 0,
      count(*[_id=='id' && 3.14 != v_decimal]) > 0,
      count(*[_id=='id' && v_decimal != 2.718]) > 0,
      count(*[_id=='id' && 2.718 != v_decimal]) > 0,
      count(*[_id=='id' && v_decimal != "a"]) > 0,
      count(*[_id=='id' && "a" != v_decimal]) > 0,
      count(*[_id=='id' && v_decimal != v_null]) > 0,
      count(*[_id=='id' && v_null != v_decimal]) > 0,
      count(*[_id=='id' && v_decimal != null]) > 0,
      count(*[_id=='id' && null != v_decimal]) > 0,
    ]
  result:
  - false
  - true
  - true
  - true
  - true
  - false
  - false
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "== filter integer"
  query: |-
    [
      count(*[_id=='id' && v_integer != v_integer]) > 0,
      count(*[_id=='id' && v_integer != v_object.v_integer]) > 0,
      count(*[_id=='id' && v_object.v_integer != v_integer]) > 0,
      count(*[_id=='id' && v_integer != 0]) > 0,
      count(*[_id=='id' && 0 != v_integer]) > 0,
      count(*[_id=='id' && v_integer != 1]) > 0,
      count(*[_id=='id' && 1 != v_integer]) > 0,
      count(*[_id=='id' && v_integer != 2]) > 0,
      count(*[_id=='id' && 2 != v_integer]) > 0,
      count(*[_id=='id' && v_integer != "a"]) > 0,
      count(*[_id=='id' && "a" != v_integer]) > 0,
      count(*[_id=='id' && v_integer != v_null]) > 0,
      count(*[_id=='id' && v_null != v_integer]) > 0,
      count(*[_id=='id' && v_integer != null]) > 0,
      count(*[_id=='id' && null != v_integer]) > 0,
    ]
  result:
  - false
  - true
  - true
  - true
  - true
  - false
  - false
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "== filter object"
  query: |-
    [
      count(*[_id=='id' && v_object != v_object]) > 0,
      count(*[_id=='id' && v_object != v_object.v_object]) > 0,
      count(*[_id=='id' && v_object.v_object != v_object]) > 0,
      count(*[_id=='id' && {
        "v_array": ["a", "b", "c"],
        "v_boolean": true,
        "v_decimal": 2.718,
        "v_integer": 2,
        "v_null": null,
        "v_object": {"k": "v"},
        "v_string": "abc"
      } != v_object]) > 0,
      count(*[_id=='id' && v_object != {
        "v_array": ["a", "b", "c"],
        "v_boolean": true,
        "v_decimal": 2.718,
        "v_integer": 2,
        "v_null": null,
        "v_object": {"k": "v"},
        "v_string": "abc"
      }]) > 0,
      count(*[_id=='id' && v_object != {"a": 1}]) > 0,
      count(*[_id=='id' && {"a": 1} != v_object]) > 0,
      count(*[_id=='id' && v_object != "a"]) > 0,
      count(*[_id=='id' && "a" != v_object]) > 0,
      count(*[_id=='id' && v_object != v_null]) > 0,
      count(*[_id=='id' && v_null != v_object]) > 0,
      count(*[_id=='id' && v_object != null]) > 0,
      count(*[_id=='id' && null != v_object]) > 0,
    ]
  result:
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "== filter string"
  query: |-
    [
      count(*[_id=='id' && v_string != v_string]) > 0,
      count(*[_id=='id' && v_string != v_object.v_string]) > 0,
      count(*[_id=='id' && v_object.v_string != v_string]) > 0,
      count(*[_id=='id' && v_string != "string"]) > 0,
      count(*[_id=='id' && "string" != v_string]) > 0,
      count(*[_id=='id' && v_string != "abc"]) > 0,
      count(*[_id=='id' && "abc" != v_string]) > 0,
      count(*[_id=='id' && v_string != "xyz"]) > 0,
      count(*[_id=='id' && "xyz" != v_string]) > 0,
      count(*[_id=='id' && v_string != 1]) > 0,
      count(*[_id=='id' && 1 != v_string]) > 0,
      count(*[_id=='id' && v_string != v_null]) > 0,
      count(*[_id=='id' && v_null != v_string]) > 0,
      count(*[_id=='id' && v_string != null]) > 0,
      count(*[_id=='id' && null != v_string]) > 0,
    ]
  result:
  - false
  - true
  - true
  - false
  - false
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "!= literals array"
  query: |-
    [
      [1, 2, 3] != [1, 2, 3],
      [1, 2, 3] != [3, 1, 2],
      [3, 1, 2] != [3, 1, 2],
      [1, 2, 3] != ["a", 2, 3.14],
      ["a", 2, 3.14] != [1, 2, 3],
      [1, 2, 3] != 1,
      1 != [1, 2, 3],
      [1, 2, 3] != null,
      null != [1, 2, 3],
    ]
  result:
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "!= literals boolean"
  query: |-
    [
      true != true,
      true != false,
      false != true,
      true != "a",
      "a" != true,
      true != null,
      null != true,
    ]
  result:
  - false
  - true
  - true
  - true
  - true
  - true
  - true
- title: "!= literals decimal"
  query: |-
    [
      3.14 != 3.14,
      3.14 != 2.718,
      2.718 != 3.14,
      3.14 != 3,
      3 != 3.14,
      3.14 != "a",
      "a" != 3.14,
      3.14 != null,
      null != 3.14,
    ]
  result:
  - false
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "!= literals integer"
  query: |-
    [
      3 != 3,
      3 != 1,
      1 != 3,
      3 != "a",
      "a" != 3,
      3 != null,
      null != 3,
    ]
  result:
  - false
  - true
  - true
  - true
  - true
  - true
  - true
- title: "!= literals object"
  query: |-
    [
      {"a": 1, "b": 2} != {"a": 1, "b": 2},
      {"a": 1, "b": 2} != {"a": 1, "c": 3},
      {"a": 1, "c": 3} != {"a": 1, "b": 2},
      {"a": 1, "b": 2} != {"a": 1, "d": "string"},
      {"a": 1, "d": "string"} != {"a": 1, "b": 2},
      {"a": 1, "b": 2} != 1,
      1 != {"a": 1, "b": 2},
      {"a": 1, "b": 2} != null,
      null != {"a": 1, "b": 2},
    ]
  result:
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
- title: "!= literals string"
  query: |-
    [
      "string" != "string",
      "string" != "abc",
      "abc" != "string",
      "A" != "a",
      "a" != "A",
      "string" != 1,
      1 != "string",
      "string" != null,
      null != "string",
    ]
  result:
  - false
  - true
  - true
  - true
  - true
  - true
  - true
  - true
  - true
