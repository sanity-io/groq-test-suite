name: "Or operator"
documents:
- _id: "id"
  _type: "test"
  v_true: true
  v_false: false
  v_null: null
  v_string: "string"
  v_integer: 1

tests:
- variables:
    T:
    - "*[_id=='id'][0].v_true"
    - "true"
    F:
    - "*[_id=='id'][0].v_false"
    - "false"
    N:
    - "*[_id=='id'][0].v_null"
    - "null"
    S:
    - "*[_id=='id'][0].v_string"
    - "'abc'"
    I:
    - "*[_id=='id'][0].v_integer"
    - "123"
  tests:

  # Basic true/false
  - query: ~T~ || ~T~
    result: true
  - query: ~F~ || ~T~
    result: true
  - query: ~T~ || ~F~
    result: true
  - query: ~F~ || ~F~
    result: false

  # Basic null values
  - query: ~T~ || ~N~
    result: true
  - query: ~N~ || ~T~
    result: true
  - query: ~F~ || ~N~
    result: null
  - query: ~N~ || ~F~
    result: null
  - query: ~N~ || ~N~
    result: null

  # Coerced strings
  - query: ~T~ || ~S~
    result: true
  - query: ~S~ || ~T~
    result: true
  - query: ~F~ || ~S~
    result: null
  - query: ~S~ || ~F~
    result: null
  - query: ~S~ || ~S~
    result: null

  # Coerced integers
  - query: ~T~ || ~I~
    result: true
  - query: ~I~ || ~T~
    result: true
  - query: ~F~ || ~I~
    result: null
  - query: ~I~ || ~F~
    result: null
  - query: ~I~ || ~I~
    result: null