name: "Range"

documents:
- _id: "a"
  _type: "doc"
  v_string1: "a"
  v_string2: "b"
  v_num1: 1
  v_num2: 2
  v_true: true
  v_false: false

tests:
- name: "String construction"
  variables:
    first:
    - '*[_id == "a"][0].v_string1'
    - '"a"'
    last:
    - '*[_id == "a"][0].v_string2'
    - '"b"'
  result: ["a", "b"]
  tests:
  - query: "~first~ .. ~last~"
  - query: "~first~ ... ~last~"

- name: "Number construction"
  variables:
    first:
    - '*[_id == "a"][0].v_num1'
    - '1'
    last:
    - '*[_id == "a"][0].v_num2'
    - '2'
  result: [1, 2]
  tests:
  - query: "~first~ .. ~last~"
  - query: "~first~ ... ~last~"

- name: "Boolean construction"
  variables:
    first:
    - '*[_id == "a"][0].v_false'
    - 'false'
    last:
    - '*[_id == "a"][0].v_true'
    - 'true'
  result: [false, true]
  tests:
  - query: "~first~ .. ~last~"
  - query: "~first~ ... ~last~"

- name: "Un-rangable types"
  variables:
    t:
    - "[]"
    - "{}"
  result: null
  tests:
  - query: "~t~ .. ~t~"
  - query: "~t~ ... ~t~"

- name: "Mixed type"
  result: null
  tests:
  - query: '1 .. "a"'
  - query: '"a" .. 1'

